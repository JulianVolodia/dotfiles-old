set folder="$HOME/.mail"

source ~/.config/mutt/muttrc.accounts

source ~/.config/mutt/muttrc.mailboxes

set spoolfile="+al/INBOX"

# SMTP options

# Include headers in editor window
set edit_headers=yes
# Use this for sending mail
set sendmail="/usr/local/bin/msmtpq"
# Always put sendmail in the background without waiting
set sendmail_wait=-1
# If envelope_from_address is set, use it as the sender address
set use_envelope_from=yes

# General options

# No delay when switching mailboxes
set sleep_time=0

# Ask for confirmation when quitting
set quit=ask-yes

# Don't mark new unread messages as old when leaving a mailbox
# without reading them
unset mark_old

# Include parent message(s) when replying
set include = yes

# Ask for CC header before editing
set askcc

# Ask for BCC header before editing
set askbcc

# Save attachments too when creating records of sent messages
set fcc_attach

# Remove my own address from list of recipients when replying to a
# message
set metoo=no

# When replying to message sent by myself, actually address the
# message to the recipients of that message
unset reply_self

# Quote header
set attribution = "On %d, %n wrote:"

# Forward header
set forward_format = "Fwd: %s"

# Indent string
set indent_str = "> "

# Add tildes at EOF
set tilde

# System options

# Keep headers in cache file
set header_cache = ~/.cache/mutt/headers

# Use maildir as mailboxes format
set mbox_type = "maildir"

# Editor for writing mails
# Allow format=flowed with formatoptions+=w
set editor = "vim +':set textwidth=72' +':set wrap' +':set formatoptions+=w'"

# Encoding
set charset = "UTF8"

# Command for printing
set print_command = "lp"

# Don't add @<domain> when not specifying it
unset use_domain

# No, I do not want to continue my drafts, thank you very much
set recall = no
# Use system-wide CA certificate store
set ssl_usesystemcerts = yes
# Don't move read messages out from spoolfile 
# I don't have an mbox anyways
set move = no 

# Sort messages by threads
set sort=threads
# Show oldest message first in threads
set sort_aux=date-received

# Notmuch options
# Timeout for opening database (in seconds)
set nm_open_timeout=5

source ~/.config/mutt/muttrc.mime
source ~/.config/mutt/muttrc.keybindings
source ~/.config/mutt/muttrc.appearance
source ~/.config/mutt/muttrc.crypto
source ~/.config/mutt/muttrc.lists
