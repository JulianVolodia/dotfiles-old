# i3 config file (v4)
#
# Please see http://i3wm.org/docs/userguide.html for a complete
# reference!

# {{{ TODO
# Add more molokai colors
# Put colors into variables
# Window gaps?
# Transparency (bar, terminals)
# }}}
# {{{ Variables
# Modificator
set $mod Mod4

# Terminal
set $term xfce4-terminal

# Dmenu arguments
set $dmenu_args -i -fn 'Consolas 12' -nf '#f5f4f1' -nb '#272822' -sb '#fd971f' -sf '#f9f8f5'
# }}}
# {{{ General
# font for window titles
font xft:Consolas 12

# Automatic back-and-forth
workspace_auto_back_and_forth no

# Hide edge borders
hide_edge_borders both
# }}}
# {{{ Window Rules
# Makes games float
for_window [class="^FTL$"] floating enable
for_window [title="^Diablo II$"] floating enable
for_window [title="^MMR Launcher$"] floating enable
for_window [title="^Mega Man Revolution*"] floating enable
for_window [title="^Mega Man Unlimited$"] floating enable
for_window [title="^Hotline Miami*"] floating enable
for_window [class="^CaveStory\+$"] floating enable
for_window [class="^intrusion2-*"] floating enable
for_window [title="^Super Hexagon$"] floating enable
for_window [class="^Snes9x-gtk$"] floating enable
for_window [class="^Desmume$"] floating enable
for_window [class="^mednafen$"] floating enable
for_window [class="^bit.trip.beat$"] floating enable
for_window [class="^bit.trip.runner$"] floating enable

# Make GNOME-Keyring passphrase prompt float
for_window [class="^Gcr-prompter$"] floating enable

# }}}
# {{{ Colors
# Color palette {{{
# #272822 - darkest gray, bg
# #383830 - darker gray
# #49483e - gray, comments
# #75715e - lighter gray
# #a59f85 - lightest gray
# #f8f8f2 - whiter
# #f5f4f1 - white
# #f9f8f5 - whitest
# #f92672 - magenta
# #fd971f - orange
# #f4bf75 - skin
# #a6e22e - faded lime
# #a1efe4 - faded sky blue
# #66d9ef - cyan
# #ae81ff - light purple
# #cc6633 - light brown
# }}}
# Name - border - background - text - indicator
# Focused window
client.focused #49483e #272822 #a6e22e #fd971f
# Focused window in another container
client.focused_inactive #383830 #272822 #a1efe4 #f5f4f1
# Unfocused window
client.unfocused #272822 #272822 #f5f4f1 #f5f4f1
# Window with urgent hint
client.urgent #272822 #f92672 #f9f8f5 #f5f4f1
# The part of a window that's not the client
client.background #272822
# }}}
# {{{ Status bar
bar {
    status_command i3status
    position top
    font xft:Consolas 12
    # Systray only on main monitor
    tray_output primary
    colors {
        background #272822
        statusline #f5f4f1
        separator #fd971f
        # Name - border - background - text
        focused_workspace #49483e #272822 #a6e22e
        active_workspace #383830 #272822 #a1efe4
        inactive_workspace #272822 #272822 #f5f4f1
        urgent_workspace #272822 #f92672 #f9f8f5
    }
}
# }}}
# {{{ Keybindings
# {{{ Starters
# Terminal
bindsym $mod+y exec $term

# Dmenu
bindsym $mod+x exec i3-dmenu-desktop --entry-type=name --dmenu="dmenu -p '×〉' $dmenu_args"

# Ranger
bindsym $mod+c exec $term -e ranger

# Mounting
bindsym $mod+i exec mount-script -m -- dmenu -p '☐ »' $dmenu_args
# Unmounting
bindsym $mod+o exec mount-script -u -- dmenu -p '«☒ ' $dmenu_args
# }}}
# {{{ MPD stuff
mode "music" {
    # mpc prev
    bindsym h exec mpc -q prev
    # mpc next
    bindsym l exec mpc -q next
    # albumbler
    bindsym Shift+a exec albumbler
    # mpc play
    bindsym p exec mpc -q play
    # mpc toggle
    bindsym Return exec mpc -q toggle

    # mpc single
    bindsym Shift+s exec mpc -q single
    # mpc consume
    bindsym Shift+c exec mpc -q consume
    # mpc random
    bindsym s exec mpc -q random
    # mpc repeat
    bindsym r exec mpc -q repeat

    # mpc seek -10s
    bindsym Shift+h exec mpc -q seek -00:00:10
    # mpc seek +10s
    bindsym Shift+l exec mpc -q seek +00:00:10
    # mpc volume +5
    bindsym k exec mpc -q volume +5
    bindsym + exec mpc -q volume +5
    # mpc volume -5
    bindsym j exec mpc -q volume -5
    bindsym - exec mpc -q volume -5
    # Escape leaves music context
    bindsym Escape mode "default"
}
bindsym $mod+m mode "music"
# }}}
# {{{ Moving
# Focus different container
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Focus different workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6

# Focus other output (toggles with two outputs)
bindsym $mod+w focus output down

# Move current window to container
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Move current container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6

# Move current container to other output
bindsym $mod+Ctrl+Shift+h move container to output left
bindsym $mod+Ctrl+Shift+j move container to output down
bindsym $mod+Ctrl+Shift+k move container to output up
bindsym $mod+Ctrl+Shift+l move container to output right

# Move current workspace to other output (toggles with two outputs)
bindsym $mod+Shift+w move workspace to output left
# }}}
# {{{ Window Management
# Use this+mouse to drag floating windows to their wanted position
floating_modifier $mod

# Split in horizontal orientation
bindsym $mod+less split h

# Split in vertical orientation
bindsym $mod+minus split v

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen

# Change container layout (stacked, tabbed, default)
bindsym $mod+s layout stacking
bindsym $mod+a layout tabbed
bindsym $mod+d layout toggle split

# Toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# Focus the parent container
bindsym $mod+comma focus parent

# Focus the child container
bindsym $mod+period focus child

# Change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle
# }}}
# {{{ Interaction
# Kill focused window
bindsym $mod+Shift+x kill

# Reload the configuration file
bindsym $mod+q reload
# restart i3 inplace (preserves layout/session, can be used to
# upgrade i3)
bindsym $mod+shift+q restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+Escape exit

# }}}
# {{{ Modes
# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h           resize shrink width 10 px or 10 ppt
        bindsym j           resize grow height 10 px or 10 ppt
        bindsym k           resize shrink height 10 px or 10 ppt
        bindsym l           resize grow width 10 px or 10 ppt

        bindsym Left        resize shrink width 10 px or 10 ppt
        bindsym Down        resize grow height 10 px or 10 ppt
        bindsym Up          resize shrink height 10 px or 10 ppt
        bindsym Right       resize grow width 10 px or 10 ppt

        # back to normal: Escape
        bindsym Escape mode "default"
}

bindsym $mod+r mode "resize"
# }}}
# }}}

# vim: foldmethod=marker
